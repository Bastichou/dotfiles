{{ if eq .chezmoi.os "darwin" -}}
#!/usr/bin/env bash
set -euo pipefail

if [[ "{{ .chezmoi.os }}" == "darwin" ]]; then
  echo "[chezmoi] run_onchange_after_setupMac.sh (macOS)"
  # https://macos-defaults.com/

  # Finder
  ## To show hidden files and folders
  defaults write com.apple.finder AppleShowAllFiles YES
  # Use list view in all Finder windows by default
  # Four-letter codes for the other view modes: `icnv`, `clmv`, `glyv`
  defaults write com.apple.finder FXPreferredViewStyle -string "Nlsv"

  # Dock
  ## Position the dock on the left side
  defaults write com.apple.dock orientation left

else
  echo "[chezmoi] run_onchange_after_setupMac.sh : non applicable sur Linux, skip."
fi
{{ end -}}